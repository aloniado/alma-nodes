[{"C:\\Alon\\Projects\\alma-nodes\\src\\index.js":"1","C:\\Alon\\Projects\\alma-nodes\\src\\App.js":"2","C:\\Alon\\Projects\\alma-nodes\\src\\reportWebVitals.js":"3","C:\\Alon\\Projects\\alma-nodes\\src\\pages\\Map\\index.js":"4","C:\\Alon\\Projects\\alma-nodes\\src\\components\\Node\\index.js":"5","C:\\Alon\\Projects\\alma-nodes\\src\\pages\\Picture\\index.js":"6","C:\\Alon\\Projects\\alma-nodes\\src\\components\\Gallery\\index.js":"7"},{"size":500,"mtime":499162500000,"results":"8","hashOfConfig":"9"},{"size":815,"mtime":1609594392851,"results":"10","hashOfConfig":"9"},{"size":362,"mtime":499162500000,"results":"11","hashOfConfig":"9"},{"size":332,"mtime":1609590566305,"results":"12","hashOfConfig":"9"},{"size":4719,"mtime":1609608056400,"results":"13","hashOfConfig":"9"},{"size":314,"mtime":1609594585725,"results":"14","hashOfConfig":"9"},{"size":3429,"mtime":1609607189196,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"16geva9",{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"18"},"C:\\Alon\\Projects\\alma-nodes\\src\\index.js",[],["32","33"],"C:\\Alon\\Projects\\alma-nodes\\src\\App.js",["34","35"],"C:\\Alon\\Projects\\alma-nodes\\src\\reportWebVitals.js",[],"C:\\Alon\\Projects\\alma-nodes\\src\\pages\\Map\\index.js",[],"C:\\Alon\\Projects\\alma-nodes\\src\\components\\Node\\index.js",[],"C:\\Alon\\Projects\\alma-nodes\\src\\pages\\Picture\\index.js",[],"C:\\Alon\\Projects\\alma-nodes\\src\\components\\Gallery\\index.js",["36"],"import React, {Component} from \"react\";\r\n\r\nimport './index.css';\r\nimport axios from \"axios\";\r\nimport {Link} from 'react-router-dom'\r\n\r\nclass Gallery extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {};\r\n\r\n        console.log('image compon construc', props)\r\n        console.log()\r\n    }\r\n\r\n    componentDidMount() {\r\n        let imgUrl = window.location.search.replace('?path=', '');\r\n        console.log(imgUrl) // this is Par1)\r\n\r\n        let arr = imgUrl.split('/')\r\n        let selectedImageLabel = arr[arr.length - 1]\r\n\r\n        arr.pop()\r\n        console.log(arr.join('/'))\r\n        let url = 'http://18.203.83.17/public/explorePictures?path=' + arr.join('/')\r\n\r\n\r\n        let config = {\r\n            headers: {\r\n                'X-TOKEN': '2d4e69f4823176197ccf41caa5ee6456',\r\n            }\r\n        }\r\n\r\n        axios.get(url, config)\r\n            .then((res) => {\r\n                console.log(res)\r\n                if (res.status === 201) {\r\n                    let images = []\r\n\r\n                    for (let i = 0; i < res.data.data.children.length; i++) {\r\n                        if (res.data.data.children[i].type === 1) {\r\n                            images.push(res.data.data.children[i])\r\n                        }\r\n                        if (res.data.data.children[i].label === selectedImageLabel) {\r\n                            this.setState({selectedImage: res.data.data.children[i]})\r\n                            images.pop();\r\n                        }\r\n                    }\r\n\r\n                    this.setState({images: images}, () => console.log(this.state));\r\n                }\r\n                // this.setState(res.data)\r\n            }).catch((e) => {\r\n            alert('Error getting ima, please refresh to try again')\r\n        })\r\n    }\r\n\r\n    setImageAsPrimary(label) {\r\n        let images = this.state.images;\r\n\r\n        for (let i = 0; i < images.length; i++) {\r\n            if (images[i].label === label) {\r\n                let image = images[i];\r\n\r\n                images.splice(i, 1);\r\n                images.push(this.state.selectedImage);\r\n\r\n                this.setState({\r\n                    selectedImage: image,\r\n                    images: images\r\n                })\r\n                return;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={'gallery-container-outer'}>\r\n                <div className={'gallery-container-inner'}>\r\n                    {\r\n                        this.state.selectedImage &&\r\n                        <div>\r\n                            <div className={'primary-image-container'}>\r\n                                <img src={this.state.selectedImage.url} className={'primary-image'} alt=\"\"/>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        this.state.images &&\r\n                        <div>\r\n                            <div className={'grid-container'}>\r\n                                {\r\n                                    this.state.images.map(el => <div key={el.label} className={'grid-item'}>\r\n                                        <img src={el.url}\r\n                                             className={'secondary-img'}\r\n                                             alt=\"\"\r\n                                             onClick={() => this.setImageAsPrimary(el.label)}/>\r\n                                    </div>)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Gallery;",{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":5,"column":41,"nodeType":"43","messageId":"44","endLine":5,"endColumn":47},{"ruleId":"41","severity":1,"message":"45","line":5,"column":49,"nodeType":"43","messageId":"44","endLine":5,"endColumn":59},{"ruleId":"41","severity":1,"message":"46","line":5,"column":9,"nodeType":"43","messageId":"44","endLine":5,"endColumn":13},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"no-unused-vars","'Switch' is defined but never used.","Identifier","unusedVar","'useHistory' is defined but never used.","'Link' is defined but never used.","no-global-assign","no-unsafe-negation"]